{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-5b24200a62c529de.js","src/index.tsx","src/App.tsx","src/components/index.ts","src/components/Chat/Chat.tsx","src/components/Chat/Chat.module.scss","src/components/FAQ/FAQ.tsx","src/components/Modal/Modal.tsx","src/components/Modal/Modal.module.scss","node_modules/@parcel/runtime-js/lib/runtime-04e11bef74ce9cd4.js","node_modules/@parcel/runtime-js/lib/runtime-b3e96c88284c146a.js","node_modules/@parcel/runtime-js/lib/runtime-a164ad73d3672663.js","node_modules/@parcel/runtime-js/lib/runtime-df16e8cfa790eb9e.js","node_modules/@parcel/runtime-js/lib/runtime-cd04b0fd8f729228.js","node_modules/@parcel/runtime-js/lib/runtime-f111f3da5b0956f3.js","src/App.module.scss","node_modules/@parcel/runtime-js/lib/runtime-467b8e74afb23284.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"h00hi\\\":\\\"index.bb5dbe0f.js\\\",\\\"i6uYg\\\":\\\"twitch.9765d80e.svg\\\",\\\"lORw5\\\":\\\"vkplay.1fe42d3c.svg\\\",\\\"72mLQ\\\":\\\"youtube.11029b0d.svg\\\",\\\"bcdFL\\\":\\\"telegram.59b820bd.svg\\\",\\\"757XX\\\":\\\"chat.b83a1653.svg\\\",\\\"lcOom\\\":\\\"login.822f9667.svg\\\",\\\"9fS6N\\\":\\\"logout.cd3f8ebf.svg\\\",\\\"ikpnG\\\":\\\"index.9438551c.css\\\",\\\"fDPzC\\\":\\\"index.26dc3d5b.js\\\"}\"));","import React from 'react'\nimport { createRoot } from 'react-dom/client';\nimport { App } from \"./App\";\nimport { start } from './lib/api';\nimport { connect } from './lib/ws';\n\nstart().then((text) => {\n\tif (text === 'fail') {\n\t\tdocument.location.reload();\n\n\t\treturn;\n\t}\n\n\tconnect();\n}).catch(() => {});\n\ncreateRoot(document.getElementById('root') as HTMLElement).render(<App />);\n","import React, { useRef, useState, useEffect } from 'react';\n\nimport cn from 'classnames';\n\nimport mobile from 'is-mobile';\n\nimport {\n\tCanvas,\n\tPalette,\n\tModal,\n\tChat,\n} from './components/'\n\nimport { addPix } from './lib/api';\nimport ee from './lib/ee';\n\nimport twitch from 'url:./res/twitch.svg';\nimport vkplay from 'url:./res/vkplay.svg';\nimport youtube from 'url:./res/youtube.svg';\nimport discord from 'url:./res/discord.svg';\nimport telegram from 'url:./res/telegram.svg';\nimport chat from 'url:./res/chat.svg';\nimport login from 'url:./res/login.svg';\nimport logout from 'url:./res/logout.svg';\n\nimport * as s from './App.module.scss';\n\nconst disableMouse = {\n\tonMouseDown: (e: MouseEvent) => e.stopPropagation(),\n\tonMouseMove: (e: MouseEvent) => e.stopPropagation(),\n\tonMouseUp: (e: MouseEvent) => e.stopPropagation(),\n};\n\nexport const App: React.FC = () => {\n\tconst [showed, toggle] = useState(false);\n\tconst [wsStore, setWsStore] = useState<any>({});\n\tconst [color, setColor] = useState('');\n\tconst [chatIsShowed, setChatIsShowed] = useState(false);\n\tconst [isAuthorized, setIsAuthorized] = useState(false);\n\tconst [expiration, setExpiration] = useState(0);\n\tconst [isOnline, setIsOnline] = useState(false);\n\tconst [blinkedLoginAnimation, setBlinkedLoginAnimation] = useState(false);\n\tconst blinkedTimer = useRef(-1);\n\n\tconst toggleChat = () => {\n\t\tsetChatIsShowed((value) => !value);\n\t};\n\n\tconst isMobile = mobile();\n\n\tuseEffect(() => {\n\t\tif (!color && wsStore?.palette) {\n\t\t\tconst firstColor = 'black' in wsStore?.palette\n\t\t\t\t? 'black'\n\t\t\t\t: (Object.keys(wsStore?.palette) || []).pop();\n\n\t\t\tsetColor(firstColor as string);\n\t\t}\n\t}, [color, wsStore]);\n\n\tconst handleCanvasClick = (x: number, y: number) => {\n\t\taddPix({ x, y, color });\n\t}\n\n\tconst handleOpenChatClick = () => {\n\t\twindow.open('https://vkplay.live/pixel_battle/only-chat', '', `width=500,height=500,left=${window.innerWidth / 2 - 250},top=${window.innerHeight / 2 - 250}`);\n\t};\n\n\tconst handleTwitchLoginClick = () => {\n\t\tconst { hostname, protocol } = document.location;\n\t\tconst APIhost = `${protocol}//${hostname === 'localhost' ? '' : 'api.'}${hostname.replace('www.', '')}:8080`;\n\t\t// window.open(`${APIhost}/auth/twitch`, '', `width=500,height=500,left=${window.innerWidth / 2 - 250},top=${window.innerHeight / 2 - 250}`);\n\t\tdocument.location.href = `${APIhost}/auth/twitch`;\n\t};\n\n\tconst onWsInit = (payload: any) => {\n\t\tsetWsStore((store = {}) => ({ ...store, ...payload }));\n\t\tsetExpiration(Date.now() + payload?.countdown);\n\t\tsetIsAuthorized(payload?.isAuthorized);\n\t};\n\n\tconst onWsCountdown = (countdown: number) => {\n\t\tsetWsStore((store = {}) => ({ ...store, countdown }));\n\t\tsetExpiration(Date.now() + countdown);\n\t};\n\n\tconst onWsPix = (payload: string) => {\n\t\tif (payload === 'await' && !isAuthorized) {\n\t\t\tsetBlinkedLoginAnimation(true);\n\t\t\tclearTimeout(blinkedTimer.current);\n\t\t\tblinkedTimer.current = setTimeout(() => {\n\t\t\t\tsetBlinkedLoginAnimation(false);\n\t\t\t}, 3000);\n\t\t}\n\t};\n\n\tconst onWsConnect = (payload: boolean) => {\n\t\tsetIsOnline(payload);\n\t};\n\n\tuseEffect(() => {\n\t\tee.on('ws:init', onWsInit);\n\t\tee.on('ws:countdown', onWsCountdown);\n\t\tee.on('ws:pix', onWsPix);\n\t\tee.on('ws:connect', onWsConnect);\n\n\t\treturn () => {\n\t\t\tee.off('ws:init', onWsInit);\n\t\t\tee.off('ws:countdown', onWsCountdown);\n\t\t\tee.off('ws:pix', onWsPix);\n\t\t\tee.off('ws:connect', onWsConnect);\n\t\t};\n\t}, [isAuthorized]);\n\n\treturn (\n\t\t<div className={isMobile ? 'mobile' : ''}>\n\t\t\t<div className={s.header} {...disableMouse}>\n\t\t\t\t{isAuthorized ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className={s.userName}>\n\t\t\t\t\t\t\t{wsStore?.name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a href=\"/logout\" className={cn({ [s.disabled]: !isOnline })}>\n\t\t\t\t\t\t\t<img src={logout} className={s.iconButton} />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<a href=\"/login\" className={cn({ [s.disabled]: !isOnline, [s.blinked]: blinkedLoginAnimation })}>\n\t\t\t\t\t\t\t<img src={login} className={s.iconButton} />\n\t\t\t\t\t\t</a>\n\t\t\t\t)}\n\t\t\t\t<img src={chat} onClick={toggleChat} className={s.iconButton} />\n\t\t\t</div>\n\t\t\t<Canvas\n\t\t\t\tcolor={wsStore?.palette?.[color]}\n\t\t\t\tonClick={handleCanvasClick}\n\t\t\t\texpiration={expiration}\n\t\t\t\tisAuthorized={isAuthorized}\n\t\t\t/>\n\t\t\t{wsStore?.palette && (\n\t\t\t\t<Palette color={color} colors={wsStore?.palette} setColor={setColor} expiration={expiration} />\n\t\t\t)}\n\t\t\t{showed && (\n\t\t\t\t<Modal onClose={() => toggle(false)}>\n\t\t\t\t\t<div className={s.joinModalContent}>\n\t\t\t\t\t\t<div>Чтобы присоединиться к PIXEL BATTLE</div>\n\t\t\t\t\t\t<div>напиши свой ник на VK Play</div>\n\t\t\t\t\t\t<div><input type=\"text\" className={s.input} placeholder=\"nickname\" /></div>\n\t\t\t\t\t\t<div>и отправь в чат стрима <span className={s.command}>!join</span></div>\n\t\t\t\t\t\t<button onClick={handleOpenChatClick} className={s.button}>ОТКРЫТЬ ЧАТ</button>\n\t\t\t\t\t\t<button onClick={handleTwitchLoginClick} className={s.button}>Залогинься через Twitch</button>\n\t\t\t\t\t\t<div>или</div>\n\t\t\t\t\t\t<button onClick={handleTwitchLoginClick} className={s.button}>Залогинься через ВК</button>\n\t\t\t\t\t</div>\n\t\t\t\t</Modal>\n\t\t\t)}\n\t\t\t<div className={s.footer} {...disableMouse}>\n\t\t\t\t<a href=\"https://vkplay.live/place_tv\" target=\"_blank\">\n\t\t\t\t\t<img src={vkplay} />\n\t\t\t\t</a>\n\t\t\t\t<a href=\"https://www.twitch.tv/place_ru\" target=\"_blank\">\n\t\t\t\t\t<img src={twitch} />\n\t\t\t\t</a>\n\t\t\t\t<a href=\"https://www.youtube.com/@Place-ru\" target=\"_blank\">\n\t\t\t\t\t<img src={youtube} />\n\t\t\t\t</a>\n\t\t\t\t{/* <a href=\"https://discord.gg/FfVjurYrus\" target=\"_blank\">\n\t\t\t\t\t<img src={discord} />\n\t\t\t\t</a> */}\n\t\t\t\t<a href=\"https://t.me/pixel_battle_online\" target=\"_blank\">\n\t\t\t\t\t<img src={telegram} />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t{chatIsShowed && (\n\t\t\t\t<Chat isAuthorized={isAuthorized} {...disableMouse} />\n\t\t\t)}\n\t\t</div>\n\t)\n}\n","export * from './Bar';\nexport * from './Canvas';\nexport * from './Chat';\nexport * from './FAQ';\nexport * from './Modal';\nexport * from './Palette';\n","import React, { FC, useRef, useState, useEffect } from 'react';\n\nimport { useDraggable } from '../../hooks/useDraggable';\n\nimport { getChatMessages, sendChatMessage } from '../../lib/api';\nimport ee from '../../lib/ee';\n\nimport * as s from './Chat.module.scss';\n\ninterface Props {\n\tisAuthorized: boolean;\n}\n\ninterface IMessage {\n\tid: string;\n\ttime: number;\n\ttext: string;\n\tname: string;\n\tavatar: string;\n}\n\nexport const Chat: FC<Props> = ({\n\tisAuthorized,\n\t...props,\n}) => {\n\tconst [list, setList] = useState<IMessage[]>([]);\n\tconst [input, setInput] = useState('');\n\tconst { anchorRef, draggableRef } = useDraggable({ x: document.body.offsetWidth - 330, y: 60});\n\tconst contentRef = useRef<HTMLDivElement>(null);\n\t\n\tconst goToBottom = () => {\n\t\tcontentRef.current?.scrollTo(0, contentRef.current.scrollHeight);\n\t};\n\n\tconst handleChatMessage = (message: IMessage) => {\n\t\tsetList((value) => [...value, message]);\n\t\tsetTimeout(() => {\n\t\t\tgoToBottom();\n\t\t}, 0);\n\t};\n\n\tuseEffect(() => {\n\t\tgetChatMessages().then((messages) => {\n\t\t\tsetList(messages);\n\t\t\tsetTimeout(() => {\n\t\t\t\tgoToBottom();\n\t\t\t}, 0);\n\t\t\tee.on('ws:chatMessage', handleChatMessage);\n\t\t});\n\n\t\treturn () => {\n\t\t\tee.off('ws:chatMessage', handleChatMessage);\n\t\t}\n\t}, []);\n\n\tconst onChange = (event: any) => {\n\t\tsetInput(event?.target?.value || '');\n\t};\n\n\tconst sendMessage = () => {\n\t\tif (input) {\n\t\t\tsendChatMessage(input);\n\t\t\tsetInput('');\n\t\t}\n\t};\n\n\tconst onKeyUp = (event: any) => {\n\t\tif (event?.code === 'Enter') {\n\t\t\tsendMessage();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={s.root} ref={draggableRef}>\n\t\t\t<div className={s.draggable} ref={anchorRef}></div>\n\t\t\t<div className={s.content} ref={contentRef} {...props}>\n\t\t\t\t{list.map((message) => (\n\t\t\t\t\t<div key={message.id}>\n\t\t\t\t\t\t<div>{message.name}:</div>\n\t\t\t\t\t\t<div className={s.text}>{message.text}</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div className={s.publisher} {...props}>\n\t\t\t\t<input\n\t\t\t\t\tclassName={s.input}\n\t\t\t\t\tvalue={input}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tonKeyUp={onKeyUp}\n\t\t\t\t\tdisabled={!isAuthorized}\n\t\t\t\t\tplaceholder={isAuthorized ? 'Enter message' : 'Login for enter message'}\n\t\t\t\t\ttitle={'Press Enter for send message'}\n\t\t\t\t/>\n\t\t\t\t<button className={s.button} onClick={sendMessage} disabled={!isAuthorized} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","@import \"../../styles/mixins\";\n\n.root {\n\t@include windowLike();\n\n\tposition: absolute;\n\tpadding: 4px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 3px;\n}\n\n.draggable {\n\twidth: 100%;\n\theight: 16px;\n\tbackground-image: linear-gradient(0deg, #edeefc 0%, #edeefc 25%, #2d2d3a 25.1%, #2d2d3a 50%, transparent 50.1%, transparent 100%);\n\tbackground-size: 4px 4px;\n\tmargin-bottom: 5px;\n\tcursor: grab;\n}\n\n.content {\n\twidth: 300px;\n\theight: 600px;\n\toverflow-y: auto;\n\toverflow-x: hidden;\n}\n\n.text {\n\tmargin-bottom: 10px;\n}\n\n.publisher {\n\tposition: relative;\n}\n\n.button {\n\t@include buttonLike();\n\t@include size(26);\n\n\tposition: absolute;\n\tbottom: 2px;\n\tright: 2px;\n\tpadding: 0;\n\n\t&:active {\n\t\tpadding: 0;\n\t}\n}\n\n.input {\n\tborder-style: solid;\n\tborder-width: 2px;\n\tborder-right-color: #b6b5eb;\n\tborder-bottom-color: #b6b5eb;\n\tborder-top-color: #2d2d3a;\n\tborder-left-color: #2d2d3a;\n\tbackground: #bbbaf1;\n\tfont-family: 'Custom Font', monospace;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tpadding: 5px 25px 5px 5px;\n\twidth: 100%;\n\tborder-radius: 5px;\n\n\t&:focus{\n\t\toutline: none;\n\t\t&::placeholder {\n\t\t\tcolor: transparent;\n\t\t}\n\t}\n\n\t&::placeholder {\n\t\ttext-transform: uppercase;\n\t}\n}\n","import React, { FC } from 'react';\n\nimport * as s from './FAQ.module.scss';\n\nexport const FAQ: FC = () => {\n\treturn (\n\t\t<div className={s.root}>\n\t\t\tFAQ\n\t\t</div>\n\t);\n}\n","import React, { FC, PropsWithChildren } from 'react';\n\nimport * as s from './Modal.module.scss';\n\ninterface Props {\n\tonClose(): void;\n\twidth?: string;\n\theight?: string;\n}\n\nexport const Modal: FC<PropsWithChildren<Props>> = ({\n\tchildren,\n\tonClose,\n\twidth = '500px',\n\theight = '350px',\n}) => {\n\treturn (\n\t\t<div className={s.root}>\n\t\t\t<div className={s.window} style={{ width, height }}>\n\t\t\t\t<div className={s.close} onClick={onClose}>&times;</div>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","@import \"../../styles/mixins\";\n\n.root {\n\tbackground: rgba(0, 0, 0, .5);\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.window {\n\t@include windowLike();\n\n\tposition: relative;\n\tpadding: 15px;\n\tcolor: black;\n}\n\n.close {\n\tposition: absolute;\n\ttop: 10px;\n\tright: 10px;\n\twidth: 30px;\n\theight: 30px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tpadding: 2px;\n\tborder-radius: 5px;\n\tfont-size: 23px;\n\tcursor: pointer;\n\n\t&:hover {\n\t\tborder-style: solid;\n\t\tborder-width: 2px;\n\t\tborder-right-color: $color-window-border-dark;\n\t\tborder-bottom-color: $color-window-border-dark;\n\t\tborder-top-color: $color-window-border-light;\n\t\tborder-left-color: $color-window-border-light;\n\t\tcolor: #ff0000;\n\t}\n\n\t&:active {\n\t\tpadding: 3px 1px 1px 3px;\n\t\tbackground-color: #8080a6;\n\t\tborder-top-color: $color-window-border-dark;\n\t\tborder-left-color: $color-window-border-dark;\n\t\tborder-right-color: $color-window-border-light;\n\t\tborder-bottom-color: $color-window-border-light;\n\t}\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"i6uYg\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lORw5\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"72mLQ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bcdFL\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"757XX\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lcOom\")).toString();","@import \"./styles/mixins\";\n\n.joinModalContent {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\theight: 100%;\n\tgap: 20px;\n\tfont-size: 20px;\n\tfont-weight: bold;\n}\n\n.command {\n\tbackground: #9594c0;\n\tpadding: 3px;\n\tborder-radius: 3px;\n\tcursor: pointer;\n}\n\n.input {\n\tborder-style: solid;\n\tborder-width: 2px;\n\tborder-right-color: #b6b5eb;\n\tborder-bottom-color: #b6b5eb;\n\tborder-top-color: #2d2d3a;\n\tborder-left-color: #2d2d3a;\n\tbackground: #bbbaf1;\n\tfont-family: 'Custom Font', monospace;\n\tfont-size: 20px;\n\tfont-weight: bold;\n\tpadding: 10px;\n\twidth: 400px;\n\ttext-align: center;\n\tborder-radius: 5px;\n\n\t&:focus{\n\t\toutline: none;\n\t\t&::placeholder {\n\t\t\tcolor: transparent;\n\t\t}\n\t}\n\n\t&::placeholder {\n\t\ttext-transform: uppercase;\n\t}\n}\n\n.button {\n\t@include buttonLike();\n\n\tfont-family: 'Custom Font', monospace;\n\tfont-size: 20px;\n\tfont-weight: bold;\n}\n\n.header {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 10px;\n\tposition: absolute;\n\ttop: 0px;\n\tright: 0px;\n\tpadding: 10px;\n\tz-index: 1;\n}\n\n.iconButton {\n\t@include size(40px);\n\n\tcursor: pointer;\n}\n\n.userName {\n\tcolor: #000;\n\ttext-shadow: 2px 0 #fff, -2px 0 #fff, 0 2px #fff, 0 -2px #fff, 1px 1px #fff, -1px -1px #fff, 1px -1px #fff, -1px 1px #fff;\n\tfont-family: 'Custom Font', monospace;\n\tfont-size: 20px;\n}\n\n.footer {\n\tdisplay: flex;\n\tgap: 10px;\n\tposition: absolute;\n\tbottom: 0px;\n\tright: 0px;\n\tpadding: 10px;\n\tuser-select: none;\n}\n\n.disabled {\n\tpointer-events: none;\n\topacity: 0.5;\n}\n\n.blinked {\n\tanimation: blinkAnimation 1s linear infinite;\n}\n\n@keyframes blinkAnimation {\n\t0% {\n\t\ttransform: scale(1);\n\t}\n\t50% {\n\t\ttransform: scale(1.5);\n\t}\n\t100% {\n\t\ttransform: scale(1);\n\t}\n}\n\n:global(.mobile) {\n\t.footer {\n\t\tdisplay: none;\n\t}\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9fS6N\")).toString();"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$ayMG0","$d81e6e01a724e49d$export$d49dffca20dba6f7","isAuthorized","props","list","setList","$acw62","useState","input","setInput","anchorRef","draggableRef","$1D3Re","useDraggable","x","document","body","offsetWidth","y","contentRef","useRef","goToBottom","current","scrollTo","scrollHeight","handleChatMessage","message","value","setTimeout","useEffect","$5LNJK","getChatMessages","then","messages","$im20c","default","on","off","sendMessage","sendChatMessage","jsxs","className","ref","jsx","map","name","text","onChange","event","target","onKeyUp","code","disabled","placeholder","title","onClick","$a5fe3119a76402fb$export$2b77a92f1a5ad772","children","onClose","width","height","style","$4a52df9f8a6b86ee$exports","URL","resolve","url","toString","$837a2a6fe32620b1$exports","$a0ec7732f8a8c3a0$exports","$a182b3d4f4a5838c$exports","$301af9aefd95a523$exports","$1259a52837fe5606$exports","$219fb9456f9cf8db$export$60bb6c1f29b8a8cc","$219fb9456f9cf8db$export$683472f6198a076e","$219fb9456f9cf8db$export$2ba01fb71ed41cb6","$bfe71bf2af655a46$exports","$cd93687958c8007e$var$disableMouse","onMouseDown","e","stopPropagation","onMouseMove","onMouseUp","start","$ksj8G","connect","location","reload","catch","$aRPiL","createRoot","getElementById","render","showed","toggle","wsStore","setWsStore","color","setColor","chatIsShowed","setChatIsShowed","setIsAuthorized","expiration","setExpiration","isOnline","setIsOnline","blinkedLoginAnimation","setBlinkedLoginAnimation","blinkedTimer","isMobile","$parcel$interopDefault","$fAX6M","palette","firstColor","pop","handleTwitchLoginClick","hostname","protocol","APIhost","replace","href","onWsInit","payload","store","Date","now","countdown","onWsCountdown","onWsPix","clearTimeout","onWsConnect","Fragment","$8g1PZ","src","B2wDDG_blinked","$iWcyK","Canvas","addPix","$7SRiy","Palette","colors","type","window","open","innerWidth","innerHeight"],"version":3,"file":"index.bb5dbe0f.js.map"}