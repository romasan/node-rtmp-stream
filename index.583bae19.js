function e(e){return e&&e.__esModule?e.default:e}var t,r,a=globalThis,s={},n={},o=a.parcelRequire8661;null==o&&((o=function(e){if(e in s)return s[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return s[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},a.parcelRequire8661=o),(0,o.register)("dRo73",function(e,t){Object.defineProperty(e.exports,"register",{get:()=>r,set:e=>r=e,enumerable:!0,configurable:!0});var r,a=new Map;r=function(e,t){for(var r=0;r<t.length-1;r+=2)a.set(t[r],{baseUrl:e,path:t[r+1]})}}),o("dRo73").register(new URL("",import.meta.url).toString(),JSON.parse('["aRmpQ","index.583bae19.js","bgmjR","twitch.9765d80e.svg","1fsQy","vkplay.1fe42d3c.svg","bWvRY","youtube.11029b0d.svg","6RFDI","discord.637209af.svg","9Tcmb","telegram.59b820bd.svg","aX6ps","chat.b83a1653.svg","ayPb0","login.5d897507.svg","cqsRl","logout.a36fbb3d.svg","24uN4","info.1855216b.svg","9M2pu","index.87af7acc.css","kVOk8","index.3a2a0192.js","9M2pu","index.87af7acc.css","6mMn4","index.runtime.44c45f4e.js"]'));var i=o("iM5HV");o("fYo6y");var l=o("b2S2j"),i=o("iM5HV"),c=o("fYo6y"),d=o("PTcTU"),f=o("fvstS"),u=o("g7WMx"),g=o("5Ml5F"),_=o("7Y5nT"),m={};m=new URL("twitch.9765d80e.svg",import.meta.url).toString();var p={};p=new URL("vkplay.1fe42d3c.svg",import.meta.url).toString();var v={};v=new URL("youtube.11029b0d.svg",import.meta.url).toString();var x={};x=new URL("discord.637209af.svg",import.meta.url).toString();var h={};h=new URL("telegram.59b820bd.svg",import.meta.url).toString();var w={};w=new URL("chat.b83a1653.svg",import.meta.url).toString();var H={};H=new URL("login.5d897507.svg",import.meta.url).toString();var S={};S=new URL("logout.a36fbb3d.svg",import.meta.url).toString();var R={};R=new URL("info.1855216b.svg",import.meta.url).toString(),t="B2wDDG_disabled",r="B2wDDG_iconButton";const b={onMouseDown:e=>e.stopPropagation(),onMouseMove:e=>e.stopPropagation(),onMouseUp:e=>e.stopPropagation()},j=()=>{let[a,s]=(0,c.useState)({name:"",palette:null}),[n,o]=(0,c.useState)(""),[l,j]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[A,D]=(0,c.useState)(!1),[k,M]=(0,c.useState)(0),[N,y]=(0,c.useState)(!1),[U,L]=(0,c.useState)(!1),[C,B]=(0,c.useState)(0),[O,P]=(0,c.useState)(!1),[T,G]=(0,c.useState)(!1),I=(0,c.useRef)(-1),Y=()=>{G(!1),j(e=>!e)},V=()=>{F(e=>!e)},q=/*@__PURE__*/e(f)();(0,c.useEffect)(()=>{if(!n&&a.palette&&a.palette){let e="black"in a.palette?"black":(Object.keys(a.palette)||[]).pop();o(e)}},[n,a]),(0,c.useEffect)(()=>{if(C){let e=setInterval(()=>{C<=Date.now()&&(P(!0),clearInterval(e))},1e3);return()=>{clearInterval(e)}}},[C]);let z=e=>{s((t={})=>({...t,...e})),M(Date.now()+e.countdown),D(e.isAuthorized),"newer"!==e.finish&&B(Date.now()+e.finish)},W=e=>{s((t={})=>({...t,countdown:e})),M(Date.now()+e)},Q=e=>{"await"!==e||A||(L(!0),clearTimeout(I.current),I.current=setTimeout(()=>{L(!1)},3e3))},J=e=>{y(e)},X=e=>{a.name&&e.text.indexOf(`@${a.name}`)>=0&&G(!0)};return(0,c.useEffect)(()=>((0,_.default).on("ws:init",z),(0,_.default).on("ws:countdown",W),(0,_.default).on("pix",Q),(0,_.default).on("ws:connect",J),(0,_.default).on("ws:chatMessage",X),()=>{(0,_.default).off("ws:init",z),(0,_.default).off("ws:countdown",W),(0,_.default).off("pix",Q),(0,_.default).off("ws:connect",J)}),[A]),/*#__PURE__*/(0,i.jsxs)("div",{className:q?"mobile":"",children:[/*#__PURE__*/(0,i.jsxs)("div",{className:"B2wDDG_header",...b,children:[A?/*#__PURE__*/(0,i.jsxs)(i.Fragment,{children:[/*#__PURE__*/(0,i.jsx)("div",{className:"B2wDDG_userName",children:a.name}),/*#__PURE__*/(0,i.jsx)("a",{href:"/logout",className:/*@__PURE__*/e(d)({[t]:!N}),children:/*#__PURE__*/(0,i.jsx)("img",{src:/*@__PURE__*/e(S),className:r})})]}):/*#__PURE__*/(0,i.jsx)("a",{href:"/login",className:/*@__PURE__*/e(d)({[t]:!N,B2wDDG_blinked:U}),children:/*#__PURE__*/(0,i.jsx)("img",{src:/*@__PURE__*/e(H),className:r})}),/*#__PURE__*/(0,i.jsx)("span",{className:/*@__PURE__*/e(d)("B2wDDG_iconWrapper",{B2wDDG_badge:T&&!l}),children:/*#__PURE__*/(0,i.jsx)("img",{src:/*@__PURE__*/e(w),onClick:Y,className:r})}),/*#__PURE__*/(0,i.jsx)("img",{src:/*@__PURE__*/e(R),onClick:V,className:/*@__PURE__*/e(d)(r,{[t]:!N})})]}),/*#__PURE__*/(0,i.jsx)(u.Canvas,{color:a.palette?a.palette[n]:"",onClick:(e,t)=>{(0,g.addPix)({x:e,y:t,color:n})},expiration:k,isAuthorized:A,finished:O}),a.palette&&!O&&/*#__PURE__*/(0,i.jsx)(u.Palette,{color:n,colors:a.palette,setColor:o,expiration:k}),!!C&&/*#__PURE__*/(0,i.jsx)(u.Countdown,{finish:C,text:a.finishText}),/*#__PURE__*/(0,i.jsxs)("div",{className:"B2wDDG_footer",...b,children:[/*#__PURE__*/(0,i.jsx)("a",{href:"https://vkplay.live/place_tv",target:"_blank",rel:"noreferrer",children:/*#__PURE__*/(0,i.jsx)("img",{src:/*@__PURE__*/e(p)})}),/*#__PURE__*/(0,i.jsx)("a",{href:"https://www.twitch.tv/place_ru",target:"_blank",rel:"noreferrer",children:/*#__PURE__*/(0,i.jsx)("img",{src:/*@__PURE__*/e(m)})}),/*#__PURE__*/(0,i.jsx)("a",{href:"https://www.youtube.com/@Place-ru",target:"_blank",rel:"noreferrer",children:/*#__PURE__*/(0,i.jsx)("img",{src:/*@__PURE__*/e(v)})}),/*#__PURE__*/(0,i.jsx)("a",{href:"https://discord.gg/FfVjurYrus",target:"_blank",rel:"noreferrer",children:/*#__PURE__*/(0,i.jsx)("img",{src:/*@__PURE__*/e(x)})}),/*#__PURE__*/(0,i.jsx)("a",{href:"https://t.me/pixel_battle_online",target:"_blank",rel:"noreferrer",children:/*#__PURE__*/(0,i.jsx)("img",{src:/*@__PURE__*/e(h)})})]}),l&&/*#__PURE__*/(0,i.jsx)(u.Chat,{isAuthorized:A,nickname:a.name,onClose:Y,...b}),E&&/*#__PURE__*/(0,i.jsx)(u.Info,{...b,onClose:V})]})};var g=o("5Ml5F"),E=o("d165e");(0,g.start)().then(e=>{if("fail"===e){document.location.reload();return}(0,E.connect)()}).catch(()=>{});const F=document.getElementById("root");document.addEventListener("DOMContentLoaded",()=>{F.hasChildNodes()?(0,l.hydrateRoot)(F,/*#__PURE__*/(0,i.jsx)(j,{})):(0,l.createRoot)(F).render(/*#__PURE__*/(0,i.jsx)(j,{}))});