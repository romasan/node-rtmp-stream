function e(e){return e&&e.__esModule?e.default:e}var r=globalThis,t={},a={},s=r.parcelRequire8661;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var s={id:e,exports:{}};return t[e]=s,r.call(s.exports,s,s.exports),s.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,r){a[e]=r},r.parcelRequire8661=s),s.register;var i=s("iM5HV");s("fYo6y");var o=s("b2S2j"),i=s("iM5HV"),l=s("fYo6y"),n=s("PTcTU"),c=s("fvstS"),d=s("g7WMx"),h=s("ifBWf"),u=s("5Ml5F"),f=s("7Y5nT"),x=s("cu5bI"),v=s("2tSK0"),i=s("iM5HV");s("fYo6y");var g=e=>(0,i.jsxs)("svg",{viewBox:"0 0 39 39",width:40,height:40,xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsx)("path",{d:"M20.319 0C29.133 0 33.54 0 36.27 2.73 39 5.46 39 9.867 39 18.681v1.638c0 8.814 0 13.221-2.73 15.951C33.54 39 29.133 39 20.319 39h-1.638C9.867 39 5.46 39 2.73 36.27 0 33.54 0 29.133 0 20.32v-1.64C0 9.866 0 5.46 2.73 2.73 5.46 0 9.867 0 18.681 0h1.638z",fill:"rgba(0,119,255,1)"}),(0,i.jsx)("path",{d:"M.117 10.96C0 13.064 0 15.6 0 18.68v1.638c0 2.34 0 4.33.039 6.084C5.148 28.9 12.012 30.42 19.5 30.42c7.488 0 14.352-1.52 19.461-4.017C39 24.648 39 22.62 39 20.32v-1.638c0-3.08 0-5.616-.117-7.76H.117v.038z",fill:"rgba(0,9,180,1)"}),(0,i.jsx)("circle",{cx:27.105,cy:19.695,stroke:"rgba(255,255,255,1)",fill:"rgba(0,9,180,1)",strokeWidth:3.897,r:3.705}),(0,i.jsx)("path",{d:"M16.38 24.18 7.8 15.6m8.58 0L7.8 24.18",stroke:"rgba(255,255,255,1)",strokeWidth:3.897})]}),i=s("iM5HV");s("fYo6y");var p=e=>(0,i.jsxs)("svg",{viewBox:"0 0 30 20",width:40,height:40,xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsx)("path",{d:"M27.973 3.123A3.578 3.578 0 0 0 25.447.597C23.22 0 14.285 0 14.285 0S5.35 0 3.123.597A3.578 3.578 0 0 0 .597 3.123C0 5.35 0 10 0 10s0 4.65.597 6.877a3.578 3.578 0 0 0 2.526 2.526C5.35 20 14.285 20 14.285 20s8.935 0 11.162-.597a3.578 3.578 0 0 0 2.526-2.526C28.57 14.65 28.57 10 28.57 10s-.002-4.65-.597-6.877Z",fill:"red"}),(0,i.jsx)("path",{d:"M11.425 14.285 18.848 10l-7.423-4.285v8.57Z",fill:"rgba(255,255,255,1)"})]}),w=s("dGUD3"),j=s("2AwaF"),m=s("i63ZM"),b=s("hasHI"),u=s("5Ml5F"),C=s("d165e");(0,u.start)().then(e=>{if("fail"===e){document.location.reload();return}(0,C.connect)(e)}).catch(()=>{});const M=document.getElementById("root");(0,o.createRoot)(M).render((0,i.jsx)(()=>{let[r,t]=(0,l.useState)(""),[a,s]=(0,l.useState)(""),[o,C]=(0,l.useState)(!1),[M,S]=(0,l.useState)(!1),[k,E]=(0,l.useState)({}),_=(0,l.useRef)(-1),{wsStore:I,isAuthorized:T,expiration:y,isOnline:D,finish:L,hasNewMessage:A,role:H,paused:P,setHasNewMessage:N}=(0,x.useWsStore)(),O=e(c)(),z=(0,b.useModal)({content:(0,i.jsx)(d.Login,{}),width:"300px"}),[B,F]=(0,l.useState)("CLICK"),K=m.colorSchemes[I.canvas&&I.canvas.colorScheme]||{};(0,l.useEffect)(()=>{let e="truecolor"===(I&&I.canvas&&I.canvas.colorScheme);if(!r&&K){let r="black"in K&&!e?"black":e?(Object.values(K)||[]).pop():(Object.keys(K)||[]).pop();r&&t(r)}},[r,I]),(0,l.useEffect)(()=>{if(L){let e=setInterval(()=>{L<=Date.now()&&(S(!0),clearInterval(e))},1e3);return()=>{clearInterval(e)}}},[L]);let V=e=>{"await"!==e||T||(C(!0),clearTimeout(_.current),_.current=setTimeout(()=>{C(!1)},3e3))};return(0,l.useEffect)(()=>((0,f.default).on("pix",V),()=>{(0,f.default).off("pix",V)}),[T]),(0,l.useEffect)(()=>(0,h.doOnEnter)("life",()=>{(0,h.life)(k.image)}),[k]),(0,l.useEffect)(()=>{let e=()=>{k&&k.centering()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[k]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:e(n)("B2wDDG_root",{mobile:O}),children:[(0,i.jsx)(d.HeaderLogo,{}),(0,i.jsx)(d.HeaderControls,{isAuthorized:T,name:I?I.name:"",isOnline:D,hasNewMessage:A,setHasNewMessage:N,blinkedLoginAnimation:o,role:H,login:z.open}),(0,i.jsx)(d.Canvas,{mode:B,color:I.canvas&&"truecolor"===I.canvas.colorScheme?r:K[r],expand:I.canvas,onClick:(e,t)=>{if(B===d.EMode.PICK){s(e),F(d.EMode.CLICK);return}I.needAuthorize&&!T?setTimeout(()=>{z.open()},100):(0,u.addPix)({x:e,y:t,color:r})},expiration:y,isAuthorized:T,isFinished:M,isOnline:D,onInit:E,src:`${u.APIhost}/canvas.png`}),D&&!M&&(0,i.jsx)(d.Palette,{color:r,pickedColor:a,colorScheme:I.canvas&&I.canvas.colorScheme,setColor:t,onPick:(e=!0)=>{F(e?d.EMode.PICK:d.EMode.CLICK)}}),!!L&&(0,i.jsx)(d.Countdown,{finish:L,text:I.finishText}),P&&(0,i.jsx)("div",{className:"B2wDDG_paused",children:"PAUSE ||"}),(0,i.jsxs)("div",{className:"B2wDDG_footer",children:[(0,i.jsx)("a",{href:"https://vkplay.live/place_tv",target:"_blank",rel:"noreferrer","aria-label":"Стрим на VK Play Live",children:(0,i.jsx)(g,{})}),(0,i.jsx)("a",{href:"https://www.twitch.tv/place_ru",target:"_blank",rel:"noreferrer","aria-label":"Стрим на Twitch",children:(0,i.jsx)(v.default,{})}),(0,i.jsx)("a",{href:"https://www.youtube.com/@Place-ru",target:"_blank",rel:"noreferrer","aria-label":"Стрим на Twitch",children:(0,i.jsx)(p,{})}),(0,i.jsx)("a",{href:"https://discord.gg/FfVjurYrus",target:"_blank",rel:"noreferrer","aria-label":"Discord сервер пиксель батла",children:(0,i.jsx)(w.default,{})}),(0,i.jsx)("a",{href:"https://t.me/pixel_battle_online",target:"_blank",rel:"noreferrer","aria-label":"Telegram канал пиксель батла",children:(0,i.jsx)(j.default,{})})]})]}),z.render()]})},{}));