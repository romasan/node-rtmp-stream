var e=globalThis,t={},o={},a=e.parcelRequire8661;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var a=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},e.parcelRequire8661=a),a.register;var r=a("iM5HV");a("fYo6y");var s=a("b2S2j"),r=a("iM5HV"),n=a("fYo6y"),l=a("fvstS"),i=a("g7WMx"),c=a("7Y5nT");const u={onMouseDown:e=>e?.stopPropagation(),onMouseMove:e=>e.stopPropagation(),onMouseUp:e=>e.stopPropagation()},d=()=>{let[e,t]=(0,n.useState)({}),[o,a]=(0,n.useState)(""),[s,d]=(0,n.useState)("CLICK"),[p,h]=(0,n.useState)({}),[f,v]=(0,n.useState)({}),[g,x]=(0,n.useState)({width:0,height:0}),M=(l&&l.__esModule?l.default:l)(),m=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!o&&e.palette){let t="black"in e.palette?"black":(Object.keys(e.palette)||[]).pop();a(t)}},[o,e]),(0,n.useEffect)(()=>{(0,c.default).on("ws:init",e=>{t((t={})=>({...t,...e}))})},[]),/*#__PURE__*/(0,r.jsxs)("div",{className:M?"mobile":"",children:[/*#__PURE__*/(0,r.jsx)(i.Canvas,{mode:s,className:"CV0dzq_canvas",color:e.palette?e.palette[o]:"",onClick:(e,t)=>{h({x:e,y:t})},onSelect:(e,t)=>{v({from:e,to:t})},onInit:e=>{x({width:e.width,height:e.height})},children:/*#__PURE__*/(0,r.jsx)("canvas",{className:"CV0dzq_layer",width:g.width,height:g.height,ref:m})}),e&&e.palette&&/*#__PURE__*/(0,r.jsx)(i.Palette,{color:o,colors:e.palette,setColor:a}),/*#__PURE__*/(0,r.jsx)(i.Tools,{canvas:m.current,coord:p,range:f,color:o,setCanvasMode:d,...u})]})};var p=a("5Ml5F"),h=a("d165e");(0,p.start)().then(e=>{if("qq"!==e){document.location.href="/";return}(0,h.connect)(),(0,s.createRoot)(document.getElementById("root")).render(/*#__PURE__*/(0,r.jsx)(d,{}))}).catch(()=>{});