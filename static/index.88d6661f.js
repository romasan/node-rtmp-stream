function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},a=t.parcelRequire8661;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequire8661=a);var s=a("iM5HV");a("fYo6y");var r=a("b2S2j"),l=(s=a("iM5HV"),a("fYo6y")),i=a("fvstS"),c=a("g7WMx"),d=a("7Y5nT");const u={onMouseDown:e=>e.stopPropagation(),onMouseMove:e=>e.stopPropagation(),onMouseUp:e=>e.stopPropagation()},f=()=>{const[t,o]=(0,l.useState)({}),[n,a]=(0,l.useState)(""),[r,f]=(0,l.useState)(c.EMode.CLICK),[p,h]=(0,l.useState)({}),[g,v]=(0,l.useState)({}),[w,x]=(0,l.useState)({width:0,height:0}),M=e(i)(),m=(0,l.useRef)(null);(0,l.useEffect)((()=>{if(!n&&t?.palette){const e="black"in t?.palette?"black":(Object.keys(t?.palette)||[]).pop();a(e)}}),[n,t]);return(0,l.useEffect)((()=>{d.default.on("ws:init",(e=>{o(((t={})=>({...t,...e})))}))}),[]),(0,s.jsxs)("div",{className:M?"mobile":"",children:[(0,s.jsx)(c.Canvas,{mode:r,className:"CV0dzq_canvas",color:t?.palette?.[n],onClick:(e,t)=>{h({x:e,y:t})},onSelect:(e,t)=>{v({from:e,to:t})},onInit:e=>{x({width:e.width,height:e.height})},children:(0,s.jsx)("canvas",{className:"CV0dzq_layer",width:w.width,height:w.height,ref:m})}),t?.palette&&(0,s.jsx)(c.Palette,{color:n,colors:t?.palette,setColor:a}),(0,s.jsx)(c.Tools,{canvas:m.current,coord:p,range:g,color:n,setCanvasMode:f,...u})]})};var p=a("5Ml5F"),h=a("d165e");(0,p.start)().then((e=>{"qq"===e?((0,h.connect)(),(0,r.createRoot)(document.getElementById("root")).render((0,s.jsx)(f,{}))):document.location.href="/"})).catch((()=>{}));