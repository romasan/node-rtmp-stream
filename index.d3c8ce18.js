function e(e){return e&&e.__esModule?e.default:e}var t,r,s=globalThis,a={},l={},o=s.parcelRequire8661;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in l){var t=l[e];delete l[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){l[e]=t},s.parcelRequire8661=o),o.register;var i=o("iM5HV");o("fYo6y");var n=o("b2S2j"),i=o("iM5HV"),d=o("fYo6y"),c=o("PTcTU"),h=o("fvstS"),g=o("g7WMx"),p=o("5Ml5F"),x=o("7Y5nT"),w={};w='<svg width="40" height="40" viewBox="8 8 24 28" xmlns="http://www.w3.org/2000/svg"><path fill="rgba(169,112,255,1)" d="m13 8-5 5v18h6v5l5-5h4l9-9V8z"/><path fill="rgba(255,255,255,1)" d="m26 25 4-4V10H14v15h4v4l4-4z"/><path d="M20 14h2v6h-2v-6Zm7 0v6h-2v-6h2Z" fill="rgba(169,112,255,1)"/></svg>';var v={};v='<svg width="39" height="39" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.319 0C29.133 0 33.54 0 36.27 2.73 39 5.46 39 9.867 39 18.681v1.638c0 8.814 0 13.221-2.73 15.951C33.54 39 29.133 39 20.319 39h-1.638C9.867 39 5.46 39 2.73 36.27 0 33.54 0 29.133 0 20.32v-1.64C0 9.866 0 5.46 2.73 2.73 5.46 0 9.867 0 18.681 0h1.638z" fill="rgba(0,119,255,1)"/><path d="M.117 10.96C0 13.064 0 15.6 0 18.68v1.638c0 2.34 0 4.33.039 6.084C5.148 28.9 12.012 30.42 19.5 30.42c7.488 0 14.352-1.52 19.461-4.017C39 24.648 39 22.62 39 20.32v-1.638c0-3.08 0-5.616-.117-7.76H.117v.038z" fill="rgba(0,9,180,1)"/><circle cx="27.105" cy="19.695" stroke="rgba(255,255,255,1)" stroke-width="3.897" r="3.705"/><path d="M16.38 24.18 7.8 15.6m8.58 0L7.8 24.18" stroke="rgba(255,255,255,1)" stroke-width="3.897"/></svg>';var f={};f='<svg viewBox="0 0 30 20" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M27.973 3.123A3.578 3.578 0 0 0 25.447.597C23.22 0 14.285 0 14.285 0S5.35 0 3.123.597A3.578 3.578 0 0 0 .597 3.123C0 5.35 0 10 0 10s0 4.65.597 6.877a3.578 3.578 0 0 0 2.526 2.526C5.35 20 14.285 20 14.285 20s8.935 0 11.162-.597a3.578 3.578 0 0 0 2.526-2.526C28.57 14.65 28.57 10 28.57 10s-.002-4.65-.597-6.877Z" fill="red"/><path d="M11.425 14.285 18.848 10l-7.423-4.285v8.57Z" fill="rgba(255,255,255,1)"/></svg>';var u={};u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 127.14 96.36" width="40" height="40"><path d="M107.7 8.07A105.15 105.15 0 0 0 81.47 0a72.06 72.06 0 0 0-3.36 6.83 97.68 97.68 0 0 0-29.11 0A72.37 72.37 0 0 0 45.64 0a105.89 105.89 0 0 0-26.25 8.09C2.79 32.65-1.71 56.6.54 80.21a105.73 105.73 0 0 0 32.17 16.15 77.7 77.7 0 0 0 6.89-11.11 68.42 68.42 0 0 1-10.85-5.18c.91-.66 1.8-1.34 2.66-2a75.57 75.57 0 0 0 64.32 0c.87.71 1.76 1.39 2.66 2a68.68 68.68 0 0 1-10.87 5.19 77 77 0 0 0 6.89 11.1 105.25 105.25 0 0 0 32.19-16.14c2.64-27.38-4.51-51.11-18.9-72.15ZM42.45 65.69C36.18 65.69 31 60 31 53s5-12.74 11.43-12.74S54 46 53.89 53s-5.05 12.69-11.44 12.69Zm42.24 0C78.41 65.69 73.25 60 73.25 53s5-12.74 11.44-12.74S96.23 46 96.12 53s-5.04 12.69-11.43 12.69Z" fill="rgba(88,101,242,1)"/></svg>';var m={};m='<svg viewBox="52.763 26.985 128 128" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M116.763 26.985a63.992 63.992 0 0 0-45.25 18.745 64.02 64.02 0 0 0-18.75 45.255 64.02 64.02 0 0 0 18.75 45.255 63.992 63.992 0 0 0 90.5 0 64.02 64.02 0 0 0 18.75-45.255 64.02 64.02 0 0 0-18.75-45.255 63.992 63.992 0 0 0-45.25-18.745Z" fill="rgba(42,171,238,1)"/><path d="M81.733 90.309c18.66-8.128 31.1-13.487 37.32-16.076 17.78-7.393 21.47-8.677 23.88-8.72.53-.009 1.71.122 2.48.745.64.525.82 1.235.91 1.733.08.498.19 1.633.1 2.519-.96 10.12-5.13 34.678-7.25 46.013-.89 4.796-2.66 6.404-4.37 6.561-3.72.342-6.54-2.456-10.14-4.815-5.63-3.693-8.81-5.991-14.28-9.594-6.32-4.164-2.22-6.453 1.38-10.193.94-.979 17.32-15.874 17.63-17.225.04-.169.08-.799-.3-1.131-.37-.333-.92-.219-1.32-.129-.57.128-9.56 6.076-27 17.843-2.55 1.754-4.86 2.609-6.94 2.564-2.28-.049-6.68-1.292-9.95-2.354-4-1.303-7.19-1.992-6.91-4.205.14-1.152 1.73-2.331 4.76-3.536Z" fill="rgba(255,255,255,1)"/></svg>';var b={};b='<svg viewBox="271 96 76 65" xmlns="http://www.w3.org/2000/svg"><path d="M340.128 110.28a6 6 0 0 1 6 6v25.855a6 6 0 0 1-6 6h-.765v11.435l-17.219-11.435h-21.238a6 6 0 0 1-6-6v-6.405h22.518a6 6 0 0 0 6-6v-19.45Z" style="stroke:rgb(0, 0, 0);stroke-width:2px;fill:rgba(255, 255, 255, 0.5)"/><path d="M279.368 147.657v-11.925H278.2a6 6 0 0 1-6-6v-25.855a6 6 0 0 1 6-6h39.222a6 6 0 0 1 6 6v25.855a6 6 0 0 1-6 6h-22.778l-15.276 11.925Z" style="stroke-width:2px;stroke:rgb(0, 0, 0);fill:rgba(255, 255, 255, 0.5)"/><circle cx="285.227" cy="116.709" r="2.937"/><circle cx="297.638" cy="116.718" r="2.937"/><circle cx="310.234" cy="116.864" r="2.937"/></svg>';var k={};k='<svg viewBox="13 15 40 30" width="40" height="40" xmlns="http://www.w3.org/2000/svg" style="filter:drop-shadow(1px 1px 0px rgba(255,255,255,0.53)) drop-shadow(-1px -1px 0px rgba(255,255,255,0.53)) drop-shadow(-1px 1px 0px rgba(255,255,255,0.53)) drop-shadow(1px -1px 0px rgba(255,255,255,0.53))"><path style="fill:rgb(216,216,216);stroke:rgb(0,0,0);stroke-width:1px;stroke-linecap:round" d="m15.307 29.958 27.826.168m-7.746-7.589 7.651 7.239"/><path style="stroke:rgb(0,0,0);fill:none;stroke-linejoin:round;stroke-width:1px;stroke-linecap:round" d="m35.016 37.218 8.13-7.253m-13.647-5.823s-.095-3.913-.086-6.707c.004-1.415 1.212-2.633 2.625-2.715 3.628-.211 9.958-.236 13.998-.073 1.985.08 2.491.126 3.303 1.087.613.726.417 2.148.417 2.148l-.006 24.099s-.155 1.882-.746 2.53c-.611.67-2.447.906-2.447.906l-14.007-.033s-1.585.127-2.346-.636c-.847-.849-.886-2.969-.886-2.969v-5.996"/></svg>';var j={};j='<svg viewBox="62 12 39 36" width="40" height="40" xmlns="http://www.w3.org/2000/svg" style="filter:drop-shadow(1px 1px 0px rgba(255,255,255,0.53)) drop-shadow(-1px -1px 0px rgba(255,255,255,0.53)) drop-shadow(-1px 1px 0px rgba(255,255,255,0.53)) drop-shadow(1px -1px 0px rgba(255,255,255,0.53))"><path style="stroke-width:1px;stroke-linecap:round;stroke:rgb(0,0,0);transform-origin:78.19px 29.811px" d="m64.277 29.727 27.826.168"/><path style="stroke-width:1px;stroke-linecap:round;stroke:rgb(0,0,0);transform-origin:68.1975px 33.6965px" d="m64.372 30.077 7.651 7.239"/><path style="fill:none;stroke-linejoin:round;stroke-width:1px;stroke-linecap:round;stroke:rgb(0,0,0);transform-origin:68.329px 26.2615px" d="m64.264 29.888 8.13-7.253"/><path style="stroke:rgb(0,0,0);fill:none;stroke-linejoin:round;stroke-width:1px;stroke-linecap:round" d="M78.023 23.896s-.095-3.913-.086-6.707c.004-1.415 1.212-2.633 2.625-2.715 3.628-.211 9.958-.236 13.998-.073 1.985.08 2.491.126 3.303 1.087.613.726.417 2.148.417 2.148l-.006 24.099s-.155 1.882-.746 2.53c-.611.67-2.447.906-2.447.906l-14.007-.033s-1.585.127-2.346-.636c-.847-.849-.886-2.969-.886-2.969v-5.996"/></svg>';var D={};D='<svg viewBox="0 0 240 241" width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M220.225 115.145c0 53.777-44.3 97.371-98.947 97.371-12.627 0-24.701-2.327-35.804-6.57-.563.245-1.14.491-1.731.736l-24.894 10.337c-20.315 8.436-26.336 4.109-18.065-12.981l9.968-20.597c-17.577-17.575-28.421-41.689-28.421-68.296 0-53.777 44.3-97.371 98.947-97.371 54.647 0 98.947 43.594 98.947 97.371Z" style="fill:none;stroke:rgb(0,0,0);stroke-width:6px"/><circle cx="122" cy="75" r="5"/><path style="fill:rgb(216,216,216);stroke:rgb(0,0,0);stroke-width:6px" d="m122.373 98.527-1.14 74.703"/></svg>',t="B2wDDG_disabled",r="B2wDDG_iconButton";const M={onMouseDown:e=>e.stopPropagation(),onMouseMove:e=>e.stopPropagation(),onMouseUp:e=>e.stopPropagation()};var p=o("5Ml5F"),y=o("d165e");(0,p.start)().then(e=>{if("fail"===e){document.location.reload();return}(0,y.connect)()}).catch(()=>{});const C=document.getElementById("root");(0,n.createRoot)(C).render(/*#__PURE__*/(0,i.jsx)(()=>{let[s,a]=(0,d.useState)({name:"",palette:null}),[l,o]=(0,d.useState)(""),[n,y]=(0,d.useState)(!1),[C,_]=(0,d.useState)(!1),[B,S]=(0,d.useState)(!1),[N,T]=(0,d.useState)(0),[Z,G]=(0,d.useState)(!1),[E,P]=(0,d.useState)(!1),[A,z]=(0,d.useState)(0),[F,I]=(0,d.useState)(!1),[O,V]=(0,d.useState)(!1),H=(0,d.useRef)(-1),L=()=>{V(!1),y(e=>!e)},Y=()=>{_(e=>!e)},R=/*@__PURE__*/e(h)();(0,d.useEffect)(()=>{if(!l&&s.palette&&s.palette){let e="black"in s.palette?"black":(Object.keys(s.palette)||[]).pop();o(e)}},[l,s]),(0,d.useEffect)(()=>{if(A){let e=setInterval(()=>{A<=Date.now()&&(I(!0),clearInterval(e))},1e3);return()=>{clearInterval(e)}}},[A]);let U=e=>{a((t={})=>({...t,...e})),T(Date.now()+e.countdown),S(e.isAuthorized),"newer"!==e.finish&&z(Date.now()+e.finish)},q=e=>{a((t={})=>({...t,countdown:e})),T(Date.now()+e)},W=e=>{"await"!==e||B||(P(!0),clearTimeout(H.current),H.current=setTimeout(()=>{P(!1)},3e3))},K=e=>{G(e)},X=e=>{s.name&&e.text.indexOf(`@${s.name}`)>=0&&V(!0)};return(0,d.useEffect)(()=>((0,x.default).on("ws:init",U),(0,x.default).on("ws:countdown",q),(0,x.default).on("pix",W),(0,x.default).on("ws:connect",K),(0,x.default).on("ws:chatMessage",X),()=>{(0,x.default).off("ws:init",U),(0,x.default).off("ws:countdown",q),(0,x.default).off("pix",W),(0,x.default).off("ws:connect",K)}),[B]),/*#__PURE__*/(0,i.jsxs)("div",{className:/*@__PURE__*/e(c)("B2wDDG_root",{mobile:R}),children:[/*#__PURE__*/(0,i.jsxs)("div",{className:"B2wDDG_header",...M,children:[/*#__PURE__*/(0,i.jsxs)("div",{className:"B2wDDG_title",children:[/*#__PURE__*/(0,i.jsx)("h1",{children:"PIXEL BATTLE"}),/*#__PURE__*/(0,i.jsx)("h2",{children:"Пиксель батл 2023 S1E2"})]}),/*#__PURE__*/(0,i.jsxs)("div",{className:"B2wDDG_controls",children:[B?/*#__PURE__*/(0,i.jsxs)(i.Fragment,{children:[/*#__PURE__*/(0,i.jsx)("div",{className:"B2wDDG_userName",children:s.name}),/*#__PURE__*/(0,i.jsx)("a",{href:"/logout",className:/*@__PURE__*/e(c)({[t]:!Z}),children:/*#__PURE__*/(0,i.jsx)("img",{src:"data:image/svg+xml;utf8,"+/*@__PURE__*/e(j),className:r,alt:"Выход"})})]}):/*#__PURE__*/(0,i.jsx)("a",{href:"/login",className:/*@__PURE__*/e(c)({[t]:!Z,B2wDDG_blinked:E}),children:/*#__PURE__*/(0,i.jsx)("img",{src:"data:image/svg+xml;utf8,"+/*@__PURE__*/e(k),className:r,alt:"Авторизация"})}),/*#__PURE__*/(0,i.jsx)("span",{className:/*@__PURE__*/e(c)("B2wDDG_iconWrapper",{B2wDDG_badge:O&&!n}),children:/*#__PURE__*/(0,i.jsx)("img",{src:"data:image/svg+xml;utf8,"+/*@__PURE__*/e(b),onClick:L,className:r,alt:"Чат"})}),/*#__PURE__*/(0,i.jsx)("img",{src:"data:image/svg+xml;utf8,"+/*@__PURE__*/e(D),onClick:Y,className:/*@__PURE__*/e(c)(r,{[t]:!Z}),alt:"Статистика"})]})]}),/*#__PURE__*/(0,i.jsx)(g.Canvas,{color:s.palette?s.palette[l]:"",onClick:(e,t)=>{(0,p.addPix)({x:e,y:t,color:l})},expiration:N,isAuthorized:B,isFinished:F,isOnline:Z}),s.palette&&!F&&/*#__PURE__*/(0,i.jsx)(g.Palette,{color:l,colors:s.palette,setColor:o,expiration:N}),!!A&&/*#__PURE__*/(0,i.jsx)(g.Countdown,{finish:A,text:s.finishText}),/*#__PURE__*/(0,i.jsxs)("div",{className:"B2wDDG_footer",...M,children:[/*#__PURE__*/(0,i.jsx)("a",{href:"https://vkplay.live/place_tv",target:"_blank",rel:"noreferrer",children:/*#__PURE__*/(0,i.jsx)("img",{src:"data:image/svg+xml;utf8,"+/*@__PURE__*/e(v),alt:"Стрим в VKPlay Live"})}),/*#__PURE__*/(0,i.jsx)("a",{href:"https://www.twitch.tv/place_ru",target:"_blank",rel:"noreferrer",children:/*#__PURE__*/(0,i.jsx)("img",{src:"data:image/svg+xml;utf8,"+/*@__PURE__*/e(w),alt:"Стрим в Twitch"})}),/*#__PURE__*/(0,i.jsx)("a",{href:"https://www.youtube.com/@Place-ru",target:"_blank",rel:"noreferrer",children:/*#__PURE__*/(0,i.jsx)("img",{src:"data:image/svg+xml;utf8,"+/*@__PURE__*/e(f),alt:"Записи таймпапс в Youtube"})}),/*#__PURE__*/(0,i.jsx)("a",{href:"https://discord.gg/FfVjurYrus",target:"_blank",rel:"noreferrer",children:/*#__PURE__*/(0,i.jsx)("img",{src:"data:image/svg+xml;utf8,"+/*@__PURE__*/e(u),alt:"Discord сервер пиксель батла"})}),/*#__PURE__*/(0,i.jsx)("a",{href:"https://t.me/pixel_battle_online",target:"_blank",rel:"noreferrer",children:/*#__PURE__*/(0,i.jsx)("img",{src:"data:image/svg+xml;utf8,"+/*@__PURE__*/e(m),alt:"Telegram канал пиксель батла"})})]}),n&&/*#__PURE__*/(0,i.jsx)(g.Chat,{isAuthorized:B,nickname:s.name,onClose:L,...M}),C&&/*#__PURE__*/(0,i.jsx)(g.Info,{...M,onClose:Y})]})},{}));