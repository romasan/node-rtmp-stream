var e=globalThis,t={},a={},r=e.parcelRequire8661;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},e.parcelRequire8661=r),r.register;var o=r("iM5HV");r("fYo6y");var s=r("b2S2j"),o=r("iM5HV"),l=r("fYo6y"),n=r("fvstS"),c=r("g7WMx"),i=r("5Ml5F"),d=r("7Y5nT");const u=()=>{let[e,t]=(0,l.useState)({}),[a,r]=(0,l.useState)(""),[s,u]=(0,l.useState)("CLICK"),[h,f]=(0,l.useState)({}),[p,v]=(0,l.useState)({}),[x,g]=(0,l.useState)({width:0,height:0}),m=(n&&n.__esModule?n.default:n)(),C=(0,l.useRef)(null);return(0,l.useEffect)(()=>{!a&&e.palette&&r("black"in e.palette?"black":(Object.keys(e.palette)||[]).pop())},[a,e]),(0,l.useEffect)(()=>{(0,d.default).on("ws:init",e=>{t((t={})=>({...t,...e}))})},[]),(0,o.jsxs)("div",{className:m?"mobile":"",children:[(0,o.jsx)("a",{href:"/",className:"CV0dzq_backButton",children:"←"}),(0,o.jsx)(c.Canvas,{mode:s,className:"CV0dzq_canvas",color:e.palette?e.palette[a]:"",isOnline:!0,onClick:(e,t)=>{f({x:e,y:t})},onSelect:(e,t)=>{v({from:e,to:t})},onInit:({image:e})=>{g({width:e.width,height:e.height})},src:`${i.APIhost}/canvas.png`,children:(0,o.jsx)("canvas",{className:"CV0dzq_layer",width:x.width,height:x.height,ref:C})}),e&&e.palette&&(0,o.jsx)(c.Palette,{color:a,colors:e.palette,setColor:r}),(0,o.jsx)(c.Tools,{canvas:C.current,coord:h,range:p,color:a,setCanvasMode:u})]})};var i=r("5Ml5F"),h=r("d165e");(0,i.start)().then(e=>{if("qq"!==e){document.location.href="/";return}(0,h.connect)(),(0,s.createRoot)(document.getElementById("root")).render((0,o.jsx)(u,{}))}).catch(()=>{});