var e=globalThis,a={},t={},o=e.parcelRequire8661;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in t){var o=t[e];delete t[e];var c={id:e,exports:{}};return a[e]=c,o.call(c.exports,c,c.exports),c.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,a){t[e]=a},e.parcelRequire8661=o),o.register;var c=o("iM5HV");o("fYo6y");var r=o("b2S2j"),c=o("iM5HV"),n=o("fYo6y"),s=o("g7WMx"),l=o("gpLKe"),i=o("5Ml5F"),d=o("7Y5nT"),h=o("i63ZM");const u=()=>{let[e,a]=(0,n.useState)({}),[t,o]=(0,n.useState)(""),[r,u]=(0,n.useState)("CLICK"),[v,f]=(0,n.useState)({}),[m,x]=(0,n.useState)({}),[g,p]=(0,n.useState)({width:0,height:0}),S=(0,l.useMobileLayout)(),C=(0,n.useRef)(null),j=h.colorSchemes[e.canvas&&e.canvas.colorScheme]||{};return(0,n.useEffect)(()=>{!t&&j&&o("black"in j?"black":(Object.keys(j)||[]).pop())},[t,e]),(0,n.useEffect)(()=>{(0,d.default).on("ws:init",e=>{a((a={})=>({...a,...e}))}),(0,d.default).on("ws:expand",e=>{a((a={})=>({...a,canvas:e}))})},[]),(0,c.jsxs)("div",{className:S?"mobile":"",children:[(0,c.jsx)("a",{href:"/",className:"CV0dzq_backButton",children:"â†"}),(0,c.jsx)(s.Canvas,{mode:r,expand:e.canvas,className:"CV0dzq_canvas",color:e.canvas&&"truecolor"===e.canvas.colorScheme?t:j[t],isOnline:!0,onClick:(e,a)=>{f({x:e,y:a})},onSelect:(e,a)=>{x({from:e,to:a})},onInit:({image:e})=>{p({width:e.width,height:e.height})},src:`${i.APIhost}/canvas.png`,children:(0,c.jsx)("canvas",{className:"CV0dzq_layer",width:g.width,height:g.height,ref:C})}),e&&j&&(0,c.jsx)(s.Palette,{mode:r,color:t,colorScheme:e.canvas&&e.canvas.colorScheme,setColor:o,onPick:()=>{}}),(0,c.jsx)(s.Tools,{canvas:C.current,expand:e.canvas,coord:v,range:m,color:e.canvas&&"truecolor"===e.canvas.colorScheme?t:j[t],setCanvasMode:u})]})};var i=o("5Ml5F"),v=o("d165e");(0,i.start)().then(e=>{if("qq"!==e){document.location.href="/";return}(0,v.connect)(),(0,r.createRoot)(document.getElementById("root")).render((0,c.jsx)(u,{}))}).catch(()=>{});