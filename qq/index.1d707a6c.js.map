{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,+BCAAD,EAAAC,EAAA,S,mDAWO,MAAMC,EAAgB,KAC5B,MAAOC,EAASC,IAAc,EAAAC,EAAAC,UAAc,CAAC,IACtCC,EAAOC,IAAY,EAAAH,EAAAC,UAAS,IAE7BG,EAAWC,EAAAC,EAAA,GAEXC,GAAQ,EAAAP,EAAAQ,QAAO,OAErB,EAAAR,EAAAS,YAAU,KACT,IAAKP,GAASJ,GAASY,QAAS,CAC/B,MAAMC,EAAa,UAAWb,GAASY,QAAU,SAAWE,OAAOC,KAAKf,GAASY,UAAY,IAAII,MACjGX,EAASQ,EACV,IACE,CAACT,EAAOJ,IAgBX,OANA,EAAAE,EAAAS,YAAU,KACTM,EAAAC,QAAGC,GAAG,WAAYC,IACjBnB,GAAW,CAACoB,EAAQ,CAAC,KAAO,IAAKA,KAAUD,KAAQ,GACpD,GACE,KAGF,EAAAvB,EAAAyB,MAAC,OAAIC,UAAWjB,EAAW,SAAW,G,WACrC,EAAAT,EAAA2B,KAACC,EAAAC,OAAK,CACLC,KAAMF,EAAAG,MAAMC,MACZN,UCvCuB,gBDwCvBnB,MAAOJ,GAASY,UAAUR,GAC1B0B,QApBuB,CAACC,EAAWC,KACrCC,QAAQC,IAAI,aAAc,C,EAAEH,E,EAAGC,GAAE,EAoB/BG,SAjBkB,CAACC,EAAgCC,KACrDJ,QAAQC,IAAI,cAAeE,EAAMC,EAAA,E,UAmB/B,EAAAxC,EAAA2B,KAAC,UAAOD,UClDc,eDkDMe,MAAM,QAAQC,OAAO,QAAQC,IAAK/B,MAE9DT,GAASY,UACT,EAAAf,EAAA2B,KAACC,EAAAgB,QAAM,CAAErC,MAAOA,EAAOsC,OAAQ1C,GAASY,QAASP,SAAUA,KAE5D,EAAAR,EAAA2B,KAACC,EAAAkB,MAAI,M,iCDjDR,EAAAC,EAAAC,SAAQC,MAAMC,IACA,OAATA,IAMJ,EAAAC,EAAAC,YAEA,EAAAC,EAAAC,YAAWC,SAASC,eAAe,SAAwBC,QAAO,EAAAzD,EAAA2B,KAACzB,EAAE,MAPpEqD,SAASG,SAASC,KAAO,GAO2C,IACnEC,OAAM","sources":["src/containers/Admin/index.tsx","src/containers/Admin/App.tsx","src/containers/Admin/App.module.scss"],"sourcesContent":["import React from 'react'\nimport { createRoot } from 'react-dom/client';\nimport { App } from \"./App\";\nimport { start } from '../../lib/api';\nimport { connect } from '../../lib/ws';\n\nstart().then((text) => {\n\tif (text !== 'qq') {\n\t\tdocument.location.href = '/';\n\n\t\treturn;\n\t}\n\n\tconnect();\n\n\tcreateRoot(document.getElementById('root') as HTMLElement).render(<App />);\n}).catch(() => {});\n","import React, { useRef, useState, useEffect } from 'react';\n\nimport mobile from 'is-mobile';\n\nimport { Canvas, EMode, Palette, Tools } from '../../components';\n\n// import { addPix } from './lib/api';\nimport ee from '../../lib/ee';\n\nimport * as s from './App.module.scss';\n\nexport const App: React.FC = () => {\n\tconst [wsStore, setWsStore] = useState<any>({});\n\tconst [color, setColor] = useState('');\n\n\tconst isMobile = mobile();\n\n\tconst layer = useRef(null);\n\n\tuseEffect(() => {\n\t\tif (!color && wsStore?.palette) {\n\t\t\tconst firstColor = 'black' in wsStore?.palette ? 'black' : (Object.keys(wsStore?.palette) || []).pop();\n\t\t\tsetColor(firstColor as string);\n\t\t}\n\t}, [color, wsStore]);\n\n\tconst handleCanvasClick = (x: number, y: number) => {\n\t\tconsole.log('==== click', { x, y });\n\t};\n\n\tconst handleSelect = (from: { x: number; y: number }, to: { x: number; y: number }) => {\n\t\tconsole.log('==== select', from, to);\n\t};\n\n\tuseEffect(() => {\n\t\tee.on('ws:init', (payload: any) => {\n\t\t\tsetWsStore((store = {}) => ({ ...store, ...payload }));\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div className={isMobile ? 'mobile' : ''}>\n\t\t\t<Canvas\n\t\t\t\tmode={EMode.CLICK}\n\t\t\t\tclassName={s.canvas}\n\t\t\t\tcolor={wsStore?.palette?.[color]}\n\t\t\t\tonClick={handleCanvasClick}\n\t\t\t\tonSelect={handleSelect}\n\t\t\t>\n\t\t\t\t{/* <div className={s.layout}></div> */}\n\t\t\t\t<canvas className={s.layer} width=\"426px\" height=\"240px\" ref={layer}></canvas>\n\t\t\t</Canvas>\n\t\t\t{wsStore?.palette && (\n\t\t\t\t<Palette color={color} colors={wsStore?.palette} setColor={setColor} />\n\t\t\t)}\n\t\t\t<Tools />\n\t\t</div>\n\t)\n}\n","@import \"../../styles/mixins\";\n\n.joinModalContent {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\theight: 100%;\n\tgap: 20px;\n\tfont-size: 20px;\n\tfont-weight: bold;\n}\n\n.command {\n\tbackground: #9594c0;\n\tpadding: 3px;\n\tborder-radius: 3px;\n\tcursor: pointer;\n}\n\n.input {\n\tborder-style: solid;\n\tborder-width: 2px;\n\tborder-right-color: #b6b5eb;\n\tborder-bottom-color: #b6b5eb;\n\tborder-top-color: #2d2d3a;\n\tborder-left-color: #2d2d3a;\n\tbackground: #bbbaf1;\n\tfont-family: 'Custom Font', monospace;\n\tfont-size: 20px;\n\tfont-weight: bold;\n\tpadding: 10px;\n\twidth: 400px;\n\ttext-align: center;\n\tborder-radius: 5px;\n\n\t&:focus{\n\t\toutline: none;\n\t\t&::placeholder {\n\t\t\tcolor: transparent;\n\t\t}\n\t}\n\n\t&::placeholder {\n\t\ttext-transform: uppercase;\n\t}\n}\n\n.button {\n\t@include buttonLike();\n\n\tfont-family: 'Custom Font', monospace;\n\tfont-size: 20px;\n\tfont-weight: bold;\n}\n\n.canvas.canvas {\n\tbackground-image: unset;\n\tbackground-color: #3c3c3c;\n}\n\n.layout {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\tbackground: red;\n\twidth: 100%;\n\theight: 100%;\n\topacity: 0.5;\n}\n\n.layer {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n}\n"],"names":["$ayMG0","parcelRequire","$b5cb6d501281a70a$export$86fbec116b87613f","wsStore","setWsStore","$acw62","useState","color","setColor","isMobile","$parcel$interopDefault","$fAX6M","layer","useRef","useEffect","palette","firstColor","Object","keys","pop","$im20c","default","on","payload","store","jsxs","className","jsx","$7rkUU","Canvas","mode","EMode","CLICK","onClick","x","y","console","log","onSelect","from","to","width","height","ref","Palette","colors","Tools","$5LNJK","start","then","text","$ksj8G","connect","$aRPiL","createRoot","document","getElementById","render","location","href","catch"],"version":3,"file":"index.1d707a6c.js.map"}