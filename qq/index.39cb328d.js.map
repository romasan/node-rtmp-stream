{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,+BCAAD,EAAAC,EAAA,S,+FDMA,EAAAC,EAAAC,SAAQC,MAAMC,IACA,SAATA,GAMJ,EAAAC,EAAAC,WALCC,SAASC,SAASC,QAKb,IACJC,OAAM,UAET,EAAAC,EAAAC,YAAWL,SAASM,eAAe,SAAwBC,QAAO,EAAAf,EAAAgB,MCJrC,KAC5B,MAAOC,EAASC,IAAc,EAAAC,EAAAC,UAAc,CAAC,IACtCC,EAAOC,IAAY,EAAAH,EAAAC,UAAS,IAE7BG,EAAWC,EAAAC,EAAA,IAEjB,EAAAN,EAAAO,YAAU,KACT,IAAKL,GAASJ,GAASU,aAAaC,QAAS,CAC5C,MAAMC,EAAa,UAAWZ,GAASU,aAAaC,QAAU,SAAWE,OAAOC,KAAKd,GAASU,aAAaC,UAAY,IAAII,MAC3HV,EAASO,EACV,IACE,CAACR,EAAOJ,IAaX,OANA,EAAAE,EAAAO,YAAU,KACTO,EAAAC,QAAGC,GAAG,kBAAmBC,IACxBlB,GAAW,CAACmB,EAAQ,CAAC,KAAO,IAAKA,EAAOV,YAAaS,KAAQ,GAC9D,GACE,KAGF,EAAApC,EAAAsC,MAAC,OAAIC,UAAWhB,EAAW,SAAW,G,WACrC,EAAAvB,EAAAgB,KAACwB,EAAAC,OAAK,CAAEC,KAAMF,EAAAG,MAAMC,OAAQL,UCrCJ,gBDqCyBlB,MAAOJ,GAASU,aAAaC,QAAQP,GAAQwB,QAbtE,CAACC,EAAWC,KAErCC,QAAQC,IAAI,OAAQ,C,EAAEH,E,EAAGC,E,MAAG1B,GAAM,E,UAYhC,EAAArB,EAAAgB,KAAC,OAAIuB,UCpCkB,gB,SDoCG,UAE1BtB,GAASU,aAAaC,UACtB,EAAA5B,EAAAgB,KAACkC,EAAAC,QAAM,CAAE9B,MAAOA,EAAO+B,OAAQnC,GAASU,aAAaC,QAASN,SAAUA,M,GD1BP","sources":["src/containers/Admin/index.tsx","src/containers/Admin/App.tsx","src/containers/Admin/App.module.scss"],"sourcesContent":["import React from 'react'\nimport { createRoot } from 'react-dom/client';\nimport { App } from \"./App\";\nimport { start } from '../../lib/api';\nimport { connect } from '../../lib/ws';\n\nstart().then((text) => {\n\tif (text === 'fail') {\n\t\tdocument.location.reload();\n\n\t\treturn;\n\t}\n\n\tconnect();\n}).catch(() => {});\n\ncreateRoot(document.getElementById('root') as HTMLElement).render(<App />);\n","import React, { useState, useEffect } from 'react';\n\nimport mobile from 'is-mobile';\n\nimport { Canvas, EMode } from '../../components/Canvas';\nimport { Palette } from '../../components/Palette';\n\n// import { addPix } from './lib/api';\nimport ee from '../../lib/ee';\n\nimport * as s from './App.module.scss';\n\nexport const App: React.FC = () => {\n\tconst [wsStore, setWsStore] = useState<any>({});\n\tconst [color, setColor] = useState('');\n\n\tconst isMobile = mobile();\n\n\tuseEffect(() => {\n\t\tif (!color && wsStore?.environment?.palette) {\n\t\t\tconst firstColor = 'black' in wsStore?.environment?.palette ? 'black' : (Object.keys(wsStore?.environment?.palette) || []).pop();\n\t\t\tsetColor(firstColor as string);\n\t\t}\n\t}, [color, wsStore]);\n\n\tconst handleCanvasClick = (x: number, y: number) => {\n\t\t// addPix({ x, y, color });\n\t\tconsole.log('====', { x, y, color });\n\t}\n\n\tuseEffect(() => {\n\t\tee.on('ws:environment', (payload: any) => {\n\t\t\tsetWsStore((store = {}) => ({ ...store, environment: payload }));\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div className={isMobile ? 'mobile' : ''}>\n\t\t\t<Canvas mode={EMode.SELECT} className={s.canvas} color={wsStore?.environment?.palette[color]} onClick={handleCanvasClick}>\n\t\t\t\t<div className={s.layout}>FOO</div>\n\t\t\t</Canvas>\n\t\t\t{wsStore?.environment?.palette && (\n\t\t\t\t<Palette color={color} colors={wsStore?.environment?.palette} setColor={setColor} />\n\t\t\t)}\n\t\t</div>\n\t)\n}\n","@import \"../../styles/mixins\";\n\n.joinModalContent {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\theight: 100%;\n\tgap: 20px;\n\tfont-size: 20px;\n\tfont-weight: bold;\n}\n\n.command {\n\tbackground: #9594c0;\n\tpadding: 3px;\n\tborder-radius: 3px;\n\tcursor: pointer;\n}\n\n.input {\n\tborder-style: solid;\n\tborder-width: 2px;\n\tborder-right-color: #b6b5eb;\n\tborder-bottom-color: #b6b5eb;\n\tborder-top-color: #2d2d3a;\n\tborder-left-color: #2d2d3a;\n\tbackground: #bbbaf1;\n\tfont-family: 'Custom Font', monospace;\n\tfont-size: 20px;\n\tfont-weight: bold;\n\tpadding: 10px;\n\twidth: 400px;\n\ttext-align: center;\n\tborder-radius: 5px;\n\n\t&:focus{\n\t\toutline: none;\n\t\t&::placeholder {\n\t\t\tcolor: transparent;\n\t\t}\n\t}\n\n\t&::placeholder {\n\t\ttext-transform: uppercase;\n\t}\n}\n\n.button {\n\t@include buttonLike();\n\n\tfont-family: 'Custom Font', monospace;\n\tfont-size: 20px;\n\tfont-weight: bold;\n}\n\n.canvas.canvas {\n\tbackground-image: unset;\n\tbackground-color: #3c3c3c;\n}\n\n.layout {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\tbackground: red;\n\twidth: 100%;\n\theight: 100%;\n\topacity: 0.5;\n}\n"],"names":["$ayMG0","parcelRequire","$5LNJK","start","then","text","$ksj8G","connect","document","location","reload","catch","$aRPiL","createRoot","getElementById","render","jsx","wsStore","setWsStore","$acw62","useState","color","setColor","isMobile","$parcel$interopDefault","$fAX6M","useEffect","environment","palette","firstColor","Object","keys","pop","$im20c","default","on","payload","store","jsxs","className","$iWcyK","Canvas","mode","EMode","SELECT","onClick","x","y","console","log","$7SRiy","Palette","colors"],"version":3,"file":"index.39cb328d.js.map"}