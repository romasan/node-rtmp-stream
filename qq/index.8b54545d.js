var e=globalThis,t={},a={},o=e.parcelRequire8661;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},e.parcelRequire8661=o),o.register;var r=o("iM5HV");o("fYo6y");var s=o("b2S2j"),r=o("iM5HV"),n=o("fYo6y"),l=o("fvstS"),i=o("g7WMx"),c=o("5Ml5F"),u=o("7Y5nT");const d={onMouseDown:e=>e.stopPropagation(),onMouseUp:e=>e.stopPropagation()},h=()=>{let[e,t]=(0,n.useState)({}),[a,o]=(0,n.useState)(""),[s,h]=(0,n.useState)("CLICK"),[p,f]=(0,n.useState)({}),[g,v]=(0,n.useState)({}),[x,m]=(0,n.useState)({width:0,height:0}),C=(l&&l.__esModule?l.default:l)(),M=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!a&&e.palette){let t="black"in e.palette?"black":(Object.keys(e.palette)||[]).pop();o(t)}},[a,e]),(0,n.useEffect)(()=>{(0,u.default).on("ws:init",e=>{t((t={})=>({...t,...e}))})},[]),/*#__PURE__*/(0,r.jsxs)("div",{className:C?"mobile":"",children:[/*#__PURE__*/(0,r.jsx)("a",{href:"/",className:"CV0dzq_backButton",children:"←"}),/*#__PURE__*/(0,r.jsx)(i.Canvas,{mode:s,className:"CV0dzq_canvas",color:e.palette?e.palette[a]:"",isOnline:!0,onClick:(e,t)=>{f({x:e,y:t})},onSelect:(e,t)=>{v({from:e,to:t})},onInit:({image:e})=>{m({width:e.width,height:e.height})},src:`${c.APIhost}/canvas.png`,children:/*#__PURE__*/(0,r.jsx)("canvas",{className:"CV0dzq_layer",width:x.width,height:x.height,ref:M})}),e&&e.palette&&/*#__PURE__*/(0,r.jsx)(i.Palette,{color:a,colors:e.palette,setColor:o}),/*#__PURE__*/(0,r.jsx)(i.Tools,{canvas:M.current,coord:p,range:g,color:a,setCanvasMode:h,...d})]})};var c=o("5Ml5F"),p=o("d165e");(0,c.start)().then(e=>{if("qq"!==e){document.location.href="/";return}(0,p.connect)(),(0,s.createRoot)(document.getElementById("root")).render(/*#__PURE__*/(0,r.jsx)(h,{}))}).catch(()=>{});